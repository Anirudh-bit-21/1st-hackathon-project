<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - GLA Placement Prep Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <style> 
        body { font-family: 'Inter', sans-serif; } 
        .dynamic-text { font-family: 'Poppins', sans-serif; } 
    </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200">

    <header class="bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm sticky top-0 z-50 shadow-md shadow-slate-200/50 dark:shadow-black/20 border-b border-slate-200 dark:border-slate-800">
        <div class="max-w-7xl mx-auto flex justify-between items-center py-4 px-6">
            <a href="main.html" class="flex items-center">
                <img src="https://glaonline.com/certificate/images/gla-logo-12-b.png" alt="GLA University Logo" class="h-8 w-auto mr-3">
                <span class="text-xl font-bold text-slate-800 dark:text-slate-200">GLA Placement Prep Hub</span>
            </a>
            
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <button id="profile-button" class="flex items-center space-x-2">
                        <img id="header-avatar" class="h-10 w-10 rounded-full" src="https://ui-avatars.com/api/?name=?&background=random&color=fff" alt="User Avatar">
                        <span id="header-username" class="hidden md:block font-semibold">User</span>
                    </button>
                    <div id="profile-menu" class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-md shadow-lg py-1 border border-slate-200 dark:border-slate-700">
                        <a href="profile.html" class="block px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700">My Profile</a>
                        <a id="logout-button" href="#" class="block px-4 py-2 text-sm text-red-500 dark:text-red-400 hover:bg-slate-100 dark:hover:bg-slate-700">Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="relative w-full min-h-[400px] flex items-center bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1521737604893-d14cc237f11d?q=80&w=2084&auto=format&fit=crop');">
            <div class="absolute inset-0 bg-black/60"></div>
            <div class="relative z-10 max-w-7xl w-full mx-auto px-6">
                <h1 id="welcome-message" class="dynamic-text text-4xl md:text-6xl font-extrabold text-white">
                    Welcome!
                </h1>
                <p class="mt-4 text-xl md:text-2xl text-gray-200 max-w-2xl">Let's get you ready for your dream job. âœ¨</p>
            </div>
        </div>

        <section class="max-w-7xl mx-auto -mt-24 md:-mt-20 relative z-10 px-6 pb-16">
             <h2 class="text-3xl font-bold mb-6 text-white dynamic-text">Start Your Preparation</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <a href="codepractice.html" class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 transform hover:-translate-y-2 transition-transform">
                    <h3 class="text-xl font-semibold mb-1">Coding Practice</h3>
                    <p class="text-slate-500 dark:text-gray-400">Generate AI practice sets and review your code.</p>
                </a>
                <a href="mock.html" class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 transform hover:-translate-y-2 transition-transform">
                    <h3 class="text-xl font-semibold mb-1">AI Interview Arena</h3>
                    <p class="text-slate-500 dark:text-gray-400">Practice with a Gemini-powered interviewer.</p>
                </a>
                <a href="mock.html#roadmaps" class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 transform hover:-translate-y-2 transition-transform">
                    <h3 class="text-xl font-semibold mb-1">Company Roadmaps</h3>
                    <p class="text-slate-500 dark:text-gray-400">Get AI-generated prep guides for top companies.</p>
                </a>
                <a href="resume_builder.html" class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 transform hover:-translate-y-2 transition-transform">
                    <h3 class="text-xl font-semibold mb-1">AI Resume Optimizer</h3>
                    <p class="text-slate-500 dark:text-gray-400">Optimize your resume with AI keyword suggestions.</p>
                </a>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('hubUser'));
            const isLoggedIn = localStorage.getItem('isLoggedIn');

            if (!isLoggedIn || !user) {
                window.location.href = 'auth.html';
                return;
            }

            // Populate welcome message
            const firstName = user.name.split(' ')[0];
            document.getElementById('welcome-message').textContent = `Welcome, ${firstName}!`;

            // Populate header
            document.getElementById('header-username').textContent = firstName;
            document.getElementById('header-avatar').src = user.avatar;

            // Header profile dropdown
            const profileButton = document.getElementById('profile-button');
            const profileMenu = document.getElementById('profile-menu');
            profileButton.addEventListener('click', (e) => { 
                e.stopPropagation(); 
                profileMenu.classList.toggle('hidden'); 
            });
            document.addEventListener('click', () => profileMenu.classList.add('hidden'));

            // Logout functionality
            document.getElementById('logout-button').addEventListener('click', (e) => {
                e.preventDefault();
                localStorage.removeItem('isLoggedIn');
                // Optional: We can keep hubUser data for a better "remember me" experience
                // localStorage.removeItem('hubUser'); 
                window.location.href = 'index.html';
            });
        });
    </script>
</body>
</html>